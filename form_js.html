<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Join Email List</title>
    <link rel="stylesheet" href="form.css" />
  </head>
  <body>
    <main>
      <h1>Please join our email list</h1>
      <form id="email_form" name="email_form" action="join.html" method="get">
        <label for="email_address1">Email Address:</label>
        <input type="text" id="email_address1" name="email_address1" />
        <span id="email_address1_error">*</span><br />

        <label for="email_address2">Re-enter Email Address:</label>
        <input type="text" id="email_address2" name="email_address2" />
        <span id="email_address2_error">*</span><br />

        <label for="first_name">First Name</label>
        <input type="text" id="first_name" name="first_name" />
        <span id="first_name_error">*</span><br />

        <label>&nbsp;</label>
        <input type="button" id="join_list" value="Join our List" />
      </form>

      <script>
        // window.onclick = function () {
        //   document.getElementById("join_list").onclick = joinList;
        // };
        // let joinList = function () {}

        document.getElementById("join_list").addEventListener("click", () => {
          let isValid = true;
          let email_address1 = document.getElementById("email_address1").value;
          if (email_address1 == "") {
            document.getElementById("email_address1_error").innerHTML =
              "This field is required.";
            isValid = false;
          } else {
            document.getElementById("email_address1_error").innerHTML = "";
          }

          if (isValid) {
            document.getElementById("email_form").submit();
          }
        });
       // =========== with id for span (email_address1_error)
           // document.getElementById("email_address1_error").firstChild.nodeValue = "";
        // =========== not id for span (email_address1_error)
        // document.getElementById("email_address1").nextElementSibling.firstChild.nodeValue = "";
      </script>
    </main>
  </body>
</html>
